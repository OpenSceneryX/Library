#tag WindowBegin Window wndMain   BackColor       =   16777215   Backdrop        =   ""   BalloonHelp     =   ""   CloseButton     =   "True"   Composite       =   "False"   Frame           =   0   FullScreen      =   "False"   HasBackColor    =   "False"   Height          =   482   LiveResize      =   "True"   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   "False"   MaxWidth        =   32000   MenuBar         =   341440760   MenuBarVisible  =   "True"   MinHeight       =   482   MinimizeButton  =   "True"   MinWidth        =   453   Placement       =   0   Resizeable      =   "True"   Title           =   "OpenSceneryX Manifester"   Visible         =   "True"   Width           =   453   Begin StaticText txtXplaneFolder      AutoDeactivate  =   "True"      Bold            =   ""      ControlOrder    =   0      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   121      LockBottom      =   ""      LockLeft        =   "True"      LockRight       =   "True"      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Untitled"      TextAlign       =   0      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   10      Top             =   78      Underline       =   ""      Visible         =   True      Width           =   265      BehaviorIndex   =   0   End   Begin Canvas Canvas1      AcceptFocus     =   ""      AcceptTabs      =   ""      AutoDeactivate  =   "True"      Backdrop        =   200112520      ControlOrder    =   1      Enabled         =   True      EraseBackground =   "True"      Height          =   52      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   20      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      Top             =   14      UseFocusRing    =   "True"      Visible         =   True      Width           =   236      BehaviorIndex   =   1   End   Begin Thread thrBuildLocalManifest      ControlOrder    =   2      Index           =   -2147483648      InitialParent   =   ""      Left            =   20      Priority        =   4      StackSize       =   0      TabPanelIndex   =   0      Top             =   -65      BehaviorIndex   =   2   End   Begin PushButton btnSaveManifest      AutoDeactivate  =   "True"      Bold            =   ""      Cancel          =   ""      Caption         =   "Save Manifest"      ControlOrder    =   3      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   325      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   0      Top             =   46      Underline       =   ""      Visible         =   True      Width           =   108      BehaviorIndex   =   3   End   Begin EditField fldMessage      AcceptTabs      =   ""      Alignment       =   0      AutoDeactivate  =   "True"      BackColor       =   &hFFFFFF      Bold            =   ""      Border          =   "True"      ControlOrder    =   4      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Format          =   ""      Height          =   320      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LimitText       =   0      LockBottom      =   "True"      LockLeft        =   "True"      LockRight       =   "True"      LockTop         =   "True"      Mask            =   ""      Multiline       =   "True"      Password        =   ""      ReadOnly        =   "True"      ScrollbarHorizontal=   ""      ScrollbarVertical=   "True"      Styled          =   ""      TabPanelIndex   =   0      Text            =   ""      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   10      Top             =   110      Underline       =   ""      UseFocusRing    =   "True"      Visible         =   True      Width           =   413      BehaviorIndex   =   4   End   Begin ProgressBar prgBar      AutoDeactivate  =   "True"      ControlOrder    =   5      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   108      LockBottom      =   "True"      LockLeft        =   "True"      LockRight       =   "True"      LockTop         =   "False"      Maximum         =   100      TabPanelIndex   =   0      Top             =   442      Value           =   0      Visible         =   "False"      Width           =   325      BehaviorIndex   =   5   End   Begin StaticText StaticText1      AutoDeactivate  =   "True"      Bold            =   "True"      ControlOrder    =   6      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   ""      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Packaged Folder:"      TextAlign       =   0      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   10      Top             =   78      Underline       =   ""      Visible         =   True      Width           =   89      BehaviorIndex   =   6   End   Begin PushButton btnSetXPlaneFolder      AutoDeactivate  =   "True"      Bold            =   ""      Cancel          =   ""      Caption         =   "Setâ€¦"      ControlOrder    =   7      Default         =   ""      Enabled         =   "False"      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   386      LockBottom      =   ""      LockLeft        =   ""      LockRight       =   "True"      LockTop         =   ""      TabPanelIndex   =   0      TextFont        =   "System"      TextSize        =   10      Top             =   77      Underline       =   ""      Visible         =   True      Width           =   47      BehaviorIndex   =   7   End   Begin StaticText txtProgress      AutoDeactivate  =   "True"      Bold            =   ""      ControlOrder    =   8      DataField       =   ""      DataSource      =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   "True"      LockLeft        =   "True"      LockRight       =   ""      LockTop         =   ""      Multiline       =   ""      TabPanelIndex   =   0      Text            =   "Untitled"      TextAlign       =   0      TextColor       =   &h000000      TextFont        =   "System"      TextSize        =   10      Top             =   442      Underline       =   ""      Visible         =   True      Width           =   74      BehaviorIndex   =   8   EndEnd#tag EndWindow#tag WindowCode	#tag Event		Sub Open()		  setupOSXFolder()		  displayXPlaneFolder()		  checkOSXFolder()		End Sub	#tag EndEvent	#tag Method, Flags = &h0		Sub showMessage(message as String)		  fldMessage.appendText(message + endOfLine)		  fldMessage.scrollPosition = 10000000		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub displayXPlaneFolder()		  txtXplaneFolder.text = App.pXPlaneFolder.absolutePath		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub checkOSXFolder()		  pLocalManifest = new FolderManifest()		  pServerManifest = new FolderManifest()		  		  thrBuildLocalManifest.run()		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub setupOSXFolder()		  pOsxFolderItem = App.pXPlaneFolder		  		End Sub	#tag EndMethod	#tag Property, Flags = &h0		pOsxFolderItem As FolderItem	#tag EndProperty	#tag Property, Flags = &h0		pLocalManifest As FolderManifest	#tag EndProperty	#tag Property, Flags = &h0		pServerManifest As FolderManifest	#tag EndProperty	#tag Property, Flags = &h0		pPendingFiles As Collection	#tag EndProperty	#tag Property, Flags = &h0		pDeletedFiles As Collection	#tag EndProperty#tag EndWindowCode#tag Events thrBuildLocalManifest	#tag Event		Sub Run()		  prgBar.visible = true		  prgBar.maximum = 0		  txtProgress.visible = false		  		  showMessage("Collecting local file information...")		  pLocalManifest.gatherManifestFromLocalFolderItem(pOsxFolderItem)		  showMessage("Complete.")		  showMessage("----")		  		  prgBar.visible = false		  		End Sub	#tag EndEvent#tag EndEvents#tag Events btnSaveManifest	#tag Event		Sub Action()		  dim manifestFolderItem as FolderItem = new FolderItem()		  manifestFolderItem = manifestFolderItem.child("manifest.xml")		  		  pLocalManifest.save(manifestFolderItem)		End Sub	#tag EndEvent#tag EndEvents#tag Events btnSetXPlaneFolder	#tag Event		Sub Action()		  if (App.getXPlaneFolder(false)) then		    btnSetXPlaneFolder.enabled = false		    		    setupOSXFolder()		    displayXPlaneFolder()		    checkOSXFolder()		  end if		End Sub	#tag EndEvent#tag EndEvents